{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["ImageGalleryItem","id","urlImage","tagImage","value","onClick","className","src","alt","ImageGallery","images","map","image","webformatURL","tags","largeImageURL","Button","type","Searchbar","state","searchValue","handleChange","e","setState","currentTarget","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","toLowerCase","this","onChange","autoComplete","autoFocus","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","imageUrl","width","height","App","page","loading","showModal","onHandleSearch","onLoadMore","toggleModal","openModal","idImage","Number","find","prevProps","prevState","setTimeout","fetch","then","r","json","respons","hits","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","visible","color","length","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f290b2bd.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nexport default function ImageGalleryItem({\n  id,\n  urlImage,\n  tagImage,\n  value,\n  onClick,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={onClick}>\n      <img\n        id={id}\n        src={urlImage}\n        alt={tagImage}\n        className=\"ImageGalleryItem-image\"\n        value={value}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  id: PropTypes.number,\n  urlImage: PropTypes.string,\n  tagImage: PropTypes.string,\n  value: PropTypes.string,\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          id={image.id}\n          urlImage={image.webformatURL}\n          tagImage={image.tags}\n          value={image.largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  onClick: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" onClick={onClick} className=\"Button\">\n      Load more\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nclass Searchbar extends Component {\n  state = {\n    searchValue: '',\n  };\n  handleChange = e => {\n    this.setState({ searchValue: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchValue.trim() === '') {\n      return toast.error('Введите поисковый запрос!');\n    }\n    this.props.onSubmit(this.state.searchValue.toLowerCase());\n    this.setState({ searchValue: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            value={this.state.searchValue}\n            onChange={this.handleChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img\n            src={this.props.imageUrl}\n            alt={this.props.tags}\n            width=\"1280\"\n            height=\"auto\"\n          />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nModal.propTypes = {\n  imageUrl: PropTypes.string,\n  tags: PropTypes.string,\n  onClose: PropTypes.func,\n};\nexport default Modal;\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    page: 1,\n    searchValue: '',\n    images: [],\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchValue !== this.state.searchValue) {\n      this.setState({ loading: true });\n      setTimeout(() => {\n        fetch(\n          `https://pixabay.com/api/?q=${this.state.searchValue}&page=${this.state.page}&key=22463604-709d4d80ecefd06266ae1aa7f&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n          .then(r => r.json())\n          .then(respons => this.setState({ images: respons.hits }))\n          .catch(error => toast.error(`${error}`))\n          .finally(this.setState({ loading: false }));\n      }, 1000);\n    }\n    if (prevState.page !== this.state.page) {\n      this.setState({ loading: true });\n      fetch(\n        `https://pixabay.com/api/?q=${this.state.searchValue}&page=${this.state.page}&key=22463604-709d4d80ecefd06266ae1aa7f&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(r => r.json())\n        .then(respons =>\n          this.setState({ images: [...this.state.images, ...respons.hits] }),\n        )\n        .catch(error => toast.error(`${error}`))\n        .finally(this.setState({ loading: false }));\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n  onHandleSearch = searchValue => {\n    // this.setState({ images: [] });\n    this.setState({ page: 1 });\n    this.setState({ searchValue });\n  };\n  onLoadMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  openModal = e => {\n    this.toggleModal();\n    const idImage = Number(e.target.id);\n    const image = this.state.images.find(image => image.id === idImage);\n\n    this.setState({ largeImageURL: image.largeImageURL });\n    this.setState({ tags: image.tags });\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onHandleSearch} />\n        <Loader\n          className=\"Loader\"\n          visible={this.state.loading}\n          type=\"Grid\"\n          color=\"#3f51b5\"\n          height={200}\n          width={200}\n        />\n\n        <ImageGallery images={this.state.images} onClick={this.openModal} />\n\n        {this.state.images.length > 0 && (\n          <div>\n            <Button onClick={this.onLoadMore} />\n          </div>\n        )}\n        {this.state.showModal && (\n          <Modal\n            imageUrl={this.state.largeImageURL}\n            tags={this.state.tags}\n            onClose={this.toggleModal}\n          ></Modal>\n        )}\n        <ToastContainer autoClose={2000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: 'smooth',\n// });\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}